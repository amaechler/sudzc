//
//  SDZServices.m
//
//  Creates a list of the services available with the SDZ prefix.
//  Generated by Sudz-C (https://github.com/jkichline/sudzc)
//

#import "SDZServices.h"


@interface SDZServices ()

@property (strong, nonatomic) SDZStockQuote *stockQuote;

@end


#pragma mark -

@implementation SDZServices

- (id)initWithServer:(NSString *)serverName
{
    self = [self init];
    if (self) {
        _server = serverName;
    }

    return self;
}

+ (SDZServices *)service
{
    return (SDZServices *)[[SDZServices alloc] init];
}

+ (SDZServices *)serviceWithServer:(NSString *)serverName
{
    return (SDZServices *)[[SDZServices alloc] initWithServer:serverName];
}

#pragma mark Methods

- (void)setLogging:(BOOL)value
{
    _logging = value;
    [self updateServices];
}

- (void)setServer:(NSString *)value
{
    _server = value;
    [self updateServices];
}

- (void)updateServices
{
    
    [self updateService:self.stockQuote];
}

- (void)updateService:(SoapService *)service
{
    service.logging = self.logging;
    if (self.server == nil || self.server.length < 1) {
        return;
    }

    service.serviceUrlString = [service.serviceUrlString stringByReplacingOccurrencesOfString:self.defaultServer
                                                                                   withString:self.server];
}


#pragma mark -

        
- (SDZStockQuote *)stockQuote
{
    if (_stockQuote == nil) {
        _stockQuote = [[SDZStockQuote alloc] init];
    }
    return _stockQuote;
}
        @end