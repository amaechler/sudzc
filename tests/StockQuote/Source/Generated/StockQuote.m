//
//  StockQuote.m
//
//  The implementation classes and methods for the StockQuote web service.
//  Generated by Sudz-C (https://github.com/jkichline/sudzc)
//

#import "StockQuote.h"
                
#import "Soap.h"
  
@implementation StockQuote

- (id)init
{
    self = [super init];
    if (self) {
        // Set the main parent properties
        self.serviceUrlString = @"http://www.webservicex.net/stockquote.asmx";
        self.serviceNamespace = @"http://www.webserviceX.NET/";
        self.headers = nil;
        self.logging = NO;
    }
    return self;
}

- (id)initWithUsername:(NSString *)username andPassword:(NSString *)password
{
    self = [super initWithUsername:username andPassword:password];
    if (self) {
    }
    return self;
}

+ (StockQuote *)service
{
    return [StockQuote serviceWithUsername:nil andPassword:nil];
}

+ (StockQuote *)serviceWithUsername:(NSString *)username andPassword:(NSString *)password
{
    return [[StockQuote alloc] initWithUsername:username andPassword:password];
}


// Returns |NSString *| Get Stock quote for a company Symbol
- (SoapRequest *)GetQuote:(id <SoapDelegate>)handler symbol:(NSString *)symbol
{
    return [self GetQuote:handler action:nil symbol: symbol];
}

- (SoapRequest *)GetQuote:(id)target action:(SEL)action symbol:(NSString *)symbol
{
    NSMutableArray *params = [NSMutableArray array];
    
    [params addObject:[[SoapParameter alloc] initWithValue:symbol forName:@"symbol"]];

    NSString *envelope = [Soap createEnvelope:@"GetQuote"
                                  forNamespace:self.serviceNamespace
                                withParameters:params
                                   withHeaders:self.headers];
    SoapRequest *request = [SoapRequest create:target
                                         action:action
                                        service:self
                                     soapAction:@"http://www.webserviceX.NET/GetQuote"
                                       postData:envelope
                                  deserializeTo:@"NSString "];

    [request send];

    return request;
}


@end

  